{"remainingRequest":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/babel-loader/lib/index.js!/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuanchenyu/Downloads/vue-login-demo-master/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/src/views/login/Login.vue","mtime":1644075760000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/babel.config.js","mtime":1644075760000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgdW5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi55So5oi35ZCN5LiN6IO95Li656m677yBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5a+G56CB5LiN6IO95Li656m677yBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlIC8vIOaYr+WQpuaYvuekuuWKoOi9veWKqOeUuwoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g6aqM6K+B6KGo5Y2V5Lit55qE6LSm5Y+35a+G56CB5piv5ZCm5pyJ5pWI77yM5Zug5Li65Zyo5LiK6Z2icnVsZXPkuK3lrprkuYnkuLrkuoblv4XloasgcmVxdWlyZWQ6IHRydWUKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgLy8g54K55Ye755m75b2V5ZCO77yM6K6p55m75b2V5oyJ6ZKu5byA5aeL6L2s5ZyI5ZyI77yI5bGV56S65Yqg6L295Yqo55S777yJCiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSB0cnVlOyAvLyDlpoLmnpznu4/ov4fmoKHpqozvvIzotKblj7flr4bnoIHpg73kuI3kuLrnqbrvvIzliJnlj5HpgIHor7fmsYLliLDlkI7nq6/nmbvlvZXmjqXlj6MKCiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczI7IC8vIOS9v+eUqCBheGlvcyDlsIbnmbvlvZXkv6Hmga/lj5HpgIHliLDlkI7nq68KCiAgICAgICAgICBfdGhpczIuYXhpb3MoewogICAgICAgICAgICB1cmw6ICIvYXBpL3VzZXIvbG9naW4iLAogICAgICAgICAgICAvLyDor7fmsYLlnLDlnYAKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIC8vIOivt+axguaWueazlQogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgLy8g6K+35rGC5aS0CiAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgICB9LAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAvLyDor7fmsYLlj4LmlbAKICAgICAgICAgICAgICB1bmFtZTogX3RoaXMucnVsZUZvcm0udW5hbWUsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnJ1bGVGb3JtLnBhc3N3b3JkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAvLyDlvZPmlLbliLDlkI7nq6/nmoTlk43lupTml7bmiafooYzor6Xmi6zlj7flhoXnmoTku6PnoIHvvIxyZXMg5Li65ZON5bqU5L+h5oGv77yM5Lmf5bCx5piv5ZCO56uv6L+U5Zue55qE5L+h5oGvCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAiMCIpIHsKICAgICAgICAgICAgICAvLyDlvZPlk43lupTnmoTnvJbnoIHkuLogMCDml7bvvIzor7TmmI7nmbvlvZXmiJDlip8KICAgICAgICAgICAgICAvLyDlsIbnlKjmiLfkv6Hmga/lrZjlgqjliLBzZXNzaW9uU3RvcmFnZeS4rQogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEuZGF0YSkpOyAvLyDot7PovazpobXpnaLliLDpppbpobUKCiAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsgLy8g5pi+56S65ZCO56uv5ZON5bqU55qE5oiQ5Yqf5L+h5oGvCgoKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8g5b2T5ZON5bqU55qE57yW56CB5LiN5Li6IDAg5pe277yM6K+05piO55m75b2V5aSx6LSlCiAgICAgICAgICAgICAgLy8g5pi+56S65ZCO56uv5ZON5bqU55qE5aSx6LSl5L+h5oGvCiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZywKICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IC8vIOS4jeeuoeWTjeW6lOaIkOWKn+i/mOaYr+Wksei0pe+8jOaUtuWIsOWQjuerr+WTjeW6lOeahOa2iOaBr+WQjuWwseS4jeWGjeiuqeeZu+W9leaMiemSruaYvuekuuWKoOi9veWKqOeUu+S6hgoKCiAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlpoLmnpzotKblj7fmiJblr4bnoIHmnInkuIDkuKrmsqHloavvvIzlsLHnm7TmjqXmj5DnpLrlv4XloavvvIzkuI3lkJHlkI7nq6/or7fmsYIKICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBzdWJtaXQhISIpOwogICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACAA,MADA,kBACA;AACA;AACAC;AACAC,iBADA;AAEAC;AAFA,OADA;AAKAC;AACAF,gBACA;AAAAG;AAAAC;AAAAC;AAAA,SADA,CADA;AAIAJ,mBACA;AAAAE;AAAAC;AAAAC;AAAA,SADA;AAJA,OALA;AAaAC,oBAbA,CAaA;;AAbA;AAeA,GAjBA;AAkBAC;AACAC,cADA,sBACAC,QADA,EACA;AAAA;;AACA;AACA;AACA;AACA,8BAFA,CAGA;;AACA;AACA,6BADA,CAEA;;AACA;AACAC,kCADA;AACA;AACAC,0BAFA;AAEA;AACAC;AAAA;AACA;AADA,aAHA;AAMAC;AAAA;AACAb,yCADA;AAEAC;AAFA;AANA,aAUAa,IAVA,CAUA;AAAA;AACA;AAAA;AACA;AACAC,gFAFA,CAGA;;AACA,2CAJA,CAKA;;;AACA;AACAX,qCADA;AAEAY;AAFA;AAIA,aAVA,MAUA;AAAA;AACA;AACA;AACAZ,qCADA;AAEAY;AAFA;AAIA,aAjBA,CAkBA;;;AACAC;AACAC;AACA,WA/BA;AAgCA,SAnCA,MAmCA;AAAA;AACAA;AACA;AACA;AACA;AACA,OA5CA;AA6CA,KAhDA;AAiDAC,aAjDA,qBAiDAV,QAjDA,EAiDA;AACA;AACA;AAnDA;AAlBA","names":["data","ruleForm","uname","password","rules","required","message","trigger","loading","methods","submitForm","formName","url","method","headers","params","then","sessionStorage","type","_this","console","resetForm"],"sources":["Login.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card class=\"box-card\">\n      <h2>登录</h2>\n      <el-form\n        :model=\"ruleForm\"\n        status-icon\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        label-position=\"left\"\n        label-width=\"70px\"\n        class=\"login-from\"\n      >\n        <el-form-item label=\"用户名\" prop=\"uname\">\n          <el-input v-model=\"ruleForm.uname\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input\n            type=\"password\"\n            v-model=\"ruleForm.password\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div class=\"btnGroup\">\n        <el-button\n          type=\"primary\"\n          @click=\"submitForm('ruleForm')\"\n          v-loading=\"loading\"\n          >登录</el-button\n        >\n        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n        <router-link to=\"/register\">\n          <el-button style=\"margin-left: 10px\">注册</el-button>\n        </router-link>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      ruleForm: {\n        uname: \"\",\n        password: \"\",\n      },\n      rules: {\n        uname: [\n          { required: true, message: \"用户名不能为空！\", trigger: \"blur\" },\n        ],\n        password: [\n          { required: true, message: \"密码不能为空！\", trigger: \"blur\" },\n        ],\n      },\n      loading: false, // 是否显示加载动画\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      // 验证表单中的账号密码是否有效，因为在上面rules中定义为了必填 required: true\n      this.$refs[formName].validate((valid) => {\n        // 点击登录后，让登录按钮开始转圈圈（展示加载动画）\n        this.loading = true;\n        // 如果经过校验，账号密码都不为空，则发送请求到后端登录接口\n        if (valid) {\n          let _this = this;\n          // 使用 axios 将登录信息发送到后端\n          this.axios({\n            url: \"/api/user/login\",               // 请求地址\n            method: \"post\",                       // 请求方法\n            headers: {                            // 请求头\n              \"Content-Type\": \"application/json\",\n            },\n            params: {                             // 请求参数\n              uname: _this.ruleForm.uname,\n              password: _this.ruleForm.password,\n            },\n          }).then((res) => { // 当收到后端的响应时执行该括号内的代码，res 为响应信息，也就是后端返回的信息\n            if (res.data.code === \"0\") {  // 当响应的编码为 0 时，说明登录成功\n              // 将用户信息存储到sessionStorage中\n              sessionStorage.setItem(\"userInfo\", JSON.stringify(res.data.data));\n              // 跳转页面到首页\n              this.$router.push('/home');\n              // 显示后端响应的成功信息\n              this.$message({\n                message: res.data.msg,\n                type: \"success\",\n              });\n            } else {  // 当响应的编码不为 0 时，说明登录失败\n              // 显示后端响应的失败信息\n              this.$message({\n                message: res.data.msg,\n                type: \"warning\",\n              });\n            }\n            // 不管响应成功还是失败，收到后端响应的消息后就不再让登录按钮显示加载动画了\n            _this.loading = false;\n            console.log(res);\n          });\n        } else {  // 如果账号或密码有一个没填，就直接提示必填，不向后端请求\n          console.log(\"error submit!!\");\n          this.loading = false;\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 设置登录面板居中，宽度为400px */\n.box-card {\n  margin: auto auto;\n  width: 400px;\n}\n/* 设置登录面板中的表单居中 */\n.login-from {\n  margin: auto auto;\n}\n</style>"],"sourceRoot":"src/views/login"}]}