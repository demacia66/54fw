{"remainingRequest":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuanchenyu/Downloads/vue-login-demo-master/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/src/views/login/Login.vue","mtime":1644075760000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuanchenyu/Downloads/vue-login-demo-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHsKICAgICAgICB1bmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi55So5oi35ZCN5LiN6IO95Li656m677yBIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWvhueggeS4jeiDveS4uuepuu+8gSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAvLyDmmK/lkKbmmL7npLrliqDovb3liqjnlLsKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIC8vIOmqjOivgeihqOWNleS4reeahOi0puWPt+WvhueggeaYr+WQpuacieaViO+8jOWboOS4uuWcqOS4iumdonJ1bGVz5Lit5a6a5LmJ5Li65LqG5b+F5aGrIHJlcXVpcmVkOiB0cnVlCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIC8vIOeCueWHu+eZu+W9leWQju+8jOiuqeeZu+W9leaMiemSruW8gOWni+i9rOWciOWciO+8iOWxleekuuWKoOi9veWKqOeUu++8iQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgLy8g5aaC5p6c57uP6L+H5qCh6aqM77yM6LSm5Y+35a+G56CB6YO95LiN5Li656m677yM5YiZ5Y+R6YCB6K+35rGC5Yiw5ZCO56uv55m75b2V5o6l5Y+jCiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzOwogICAgICAgICAgLy8g5L2/55SoIGF4aW9zIOWwhueZu+W9leS/oeaBr+WPkemAgeWIsOWQjuerrwogICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgIHVybDogIi9hcGkvdXNlci9sb2dpbiIsICAgICAgICAgICAgICAgLy8g6K+35rGC5Zyw5Z2ACiAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLCAgICAgICAgICAgICAgICAgICAgICAgLy8g6K+35rGC5pa55rOVCiAgICAgICAgICAgIGhlYWRlcnM6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6K+35rGC5aS0CiAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGFyYW1zOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDor7fmsYLlj4LmlbAKICAgICAgICAgICAgICB1bmFtZTogX3RoaXMucnVsZUZvcm0udW5hbWUsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnJ1bGVGb3JtLnBhc3N3b3JkLAogICAgICAgICAgICB9LAogICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7IC8vIOW9k+aUtuWIsOWQjuerr+eahOWTjeW6lOaXtuaJp+ihjOivpeaLrOWPt+WGheeahOS7o+egge+8jHJlcyDkuLrlk43lupTkv6Hmga/vvIzkuZ/lsLHmmK/lkI7nq6/ov5Tlm57nmoTkv6Hmga8KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09ICIwIikgeyAgLy8g5b2T5ZON5bqU55qE57yW56CB5Li6IDAg5pe277yM6K+05piO55m75b2V5oiQ5YqfCiAgICAgICAgICAgICAgLy8g5bCG55So5oi35L+h5oGv5a2Y5YKo5Yiwc2Vzc2lvblN0b3JhZ2XkuK0KICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VySW5mbyIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLmRhdGEpKTsKICAgICAgICAgICAgICAvLyDot7PovazpobXpnaLliLDpppbpobUKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgICAgICAgICAgICAvLyDmmL7npLrlkI7nq6/lk43lupTnmoTmiJDlip/kv6Hmga8KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZywKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsgIC8vIOW9k+WTjeW6lOeahOe8lueggeS4jeS4uiAwIOaXtu+8jOivtOaYjueZu+W9leWksei0pQogICAgICAgICAgICAgIC8vIOaYvuekuuWQjuerr+WTjeW6lOeahOWksei0peS/oeaBrwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnLAogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOS4jeeuoeWTjeW6lOaIkOWKn+i/mOaYr+Wksei0pe+8jOaUtuWIsOWQjuerr+WTjeW6lOeahOa2iOaBr+WQjuWwseS4jeWGjeiuqeeZu+W9leaMiemSruaYvuekuuWKoOi9veWKqOeUu+S6hgogICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgeyAgLy8g5aaC5p6c6LSm5Y+35oiW5a+G56CB5pyJ5LiA5Liq5rKh5aGr77yM5bCx55u05o6l5o+Q56S65b+F5aGr77yM5LiN5ZCR5ZCO56uv6K+35rGCCiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div>\n    <el-card class=\"box-card\">\n      <h2>登录</h2>\n      <el-form\n        :model=\"ruleForm\"\n        status-icon\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        label-position=\"left\"\n        label-width=\"70px\"\n        class=\"login-from\"\n      >\n        <el-form-item label=\"用户名\" prop=\"uname\">\n          <el-input v-model=\"ruleForm.uname\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input\n            type=\"password\"\n            v-model=\"ruleForm.password\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div class=\"btnGroup\">\n        <el-button\n          type=\"primary\"\n          @click=\"submitForm('ruleForm')\"\n          v-loading=\"loading\"\n          >登录</el-button\n        >\n        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n        <router-link to=\"/register\">\n          <el-button style=\"margin-left: 10px\">注册</el-button>\n        </router-link>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      ruleForm: {\n        uname: \"\",\n        password: \"\",\n      },\n      rules: {\n        uname: [\n          { required: true, message: \"用户名不能为空！\", trigger: \"blur\" },\n        ],\n        password: [\n          { required: true, message: \"密码不能为空！\", trigger: \"blur\" },\n        ],\n      },\n      loading: false, // 是否显示加载动画\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      // 验证表单中的账号密码是否有效，因为在上面rules中定义为了必填 required: true\n      this.$refs[formName].validate((valid) => {\n        // 点击登录后，让登录按钮开始转圈圈（展示加载动画）\n        this.loading = true;\n        // 如果经过校验，账号密码都不为空，则发送请求到后端登录接口\n        if (valid) {\n          let _this = this;\n          // 使用 axios 将登录信息发送到后端\n          this.axios({\n            url: \"/api/user/login\",               // 请求地址\n            method: \"post\",                       // 请求方法\n            headers: {                            // 请求头\n              \"Content-Type\": \"application/json\",\n            },\n            params: {                             // 请求参数\n              uname: _this.ruleForm.uname,\n              password: _this.ruleForm.password,\n            },\n          }).then((res) => { // 当收到后端的响应时执行该括号内的代码，res 为响应信息，也就是后端返回的信息\n            if (res.data.code === \"0\") {  // 当响应的编码为 0 时，说明登录成功\n              // 将用户信息存储到sessionStorage中\n              sessionStorage.setItem(\"userInfo\", JSON.stringify(res.data.data));\n              // 跳转页面到首页\n              this.$router.push('/home');\n              // 显示后端响应的成功信息\n              this.$message({\n                message: res.data.msg,\n                type: \"success\",\n              });\n            } else {  // 当响应的编码不为 0 时，说明登录失败\n              // 显示后端响应的失败信息\n              this.$message({\n                message: res.data.msg,\n                type: \"warning\",\n              });\n            }\n            // 不管响应成功还是失败，收到后端响应的消息后就不再让登录按钮显示加载动画了\n            _this.loading = false;\n            console.log(res);\n          });\n        } else {  // 如果账号或密码有一个没填，就直接提示必填，不向后端请求\n          console.log(\"error submit!!\");\n          this.loading = false;\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 设置登录面板居中，宽度为400px */\n.box-card {\n  margin: auto auto;\n  width: 400px;\n}\n/* 设置登录面板中的表单居中 */\n.login-from {\n  margin: auto auto;\n}\n</style>"]}]}